<!-- il controllo su width ed height serve per attendere che le dimensioni del container nella griglia siano state definite prima di procedere col rendering dei nodi-->
<graphy-ng *ngIf="width && height">
  <ng-container *nodeTemplate="let node; nodes: nodes">
    <svg (click)="node.data.state === NodeStatus.ACTIVE && onNodeClick(node)" overflow="visible">
      <rect rx="10" ry="10" [attr.width]="node._width" [attr.height]="node._height" [style.fill]="nodeColors[node.data.state]" stroke="black" stroke-width="2"></rect>
      <!-- Centra il testo sia orizzontalmente che verticalmente -->
      <text text-anchor="middle" dominant-baseline="central" [attr.x]="node._width / 2" [attr.y]="node._height / 2">{{ node.data.name }}</text>
    </svg>
  </ng-container>

  <ng-container *edgeTemplate="let edge; edges: edges">
    <svg:g class="edge">
      <svg:path
              class="edge__line"
              [attr.d]="edge.pathDefinition"
      ></svg:path>
    </svg:g>
  </ng-container>
</graphy-ng>
